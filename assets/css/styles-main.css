/* styles-main.css - Themed Update - Scrollbar Update */

/* Section: Color Palette & Theme Variables (Adapted from styles-bcard.css) */
:root {
    /* Light Theme (Default) */
    /* These variables are used when no specific theme or the light theme is active. 
    --bg-color: #f4f5f7;                     /* Page background: Very light cool grey 
    --card-bg-color: #ffffff;                /* Card background: White 
    --text-color-primary: #1a202c;           /* Primary text (name, main titles): Very dark desaturated blue/charcoal 
    --text-color-secondary: #4a5568;         /* Secondary text (other info): Dark slate grey 
    --text-color-muted: #718096;             /* Muted text (less important, quote, some icons): Cool grey 
    --accent-color: #2c5282;                 /* Accent (links, icons, buttons): Deep professional blue 
    --accent-color-hover: #1a365d;           /* Accent hover: Darker shade of the blue 
    --separator-color: #e2e8f0;              /* Separators: Very light grey 
    --shadow-color: rgba(45, 55, 72, 0.08);  /* Shadows: Subtle dark grey based shadow 
    --button-text-color: #ffffff;            /* Text on primary buttons: White 
    */
    /* Applying only dark theme colours for now */
    --bg-color: #121212;                     /* Page background: Near black */
    --card-bg-color: #2c343c;                   /* Card background: Very dark grey */
    --bg-color-light: #f6f6f6;                /* Light background: Light grey for contrast */
    --card-bg-color-light: #ededed;                   /* Card background: Very dark grey */
    --text-color-primary: #f7fafc;           /* Primary text: Off-white */
    --text-color-secondary: #ccc;            /* Secondary text: Light grey-blue */
    --text-color-muted: #ccc;                /* Muted text: Medium grey */
    --accent-color: #fff;                    /* Accent: Brighter, accessible blue for dark mode */
    --accent-color-hover: #fff;              /* Accent hover: Slightly darker vibrant blue */
    --separator-color: #4a5568;              /* Separators: Darker grey */
    --shadow-color: rgba(0, 0, 0, 0.25);     /* Shadows: More pronounced for depth */
    --button-text-color: #121212;            /* Button text: Dark text on light button background */

    --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; /* Main font stack */
    --font-quote: 'Lora', serif;               /* Font for quotes */
    --banner-button-bg-color: #118ab2;       /* NEW: Professional teal/blue */
    --banner-button-bg-color-hover: #0e708f; /* NEW: Darker teal/blue for hover (approx. 15% darker) */
    --banner-button-text-color: #ffffff;     /* White text for the button */
    
    /* Original main page colors - can be kept for specific elements */
    --original-primary-color: #fff;          /* Was your old accent color (white) */
    --original-secondary-color: #ffc107;     /* Was your old hover accent color (yellow) */
    --original-background-color: #2e3842;   /* Was your old background color (dark gray) */
    --original-text-color: #fff;             /* Was your old default text color (white) */
    --original-muted-text-color: #ccc;       /* Was your old muted text color */
    --original-footer-bg-color: #333;        /* Was your old footer background color */
}


[data-theme="dark"] {
    /* Dark Theme */
    /* These variables override the :root variables when the 'data-theme' attribute on the HTML element is set to "dark". */
    --bg-color: #121212;                     /* Page background: Near black */
    --card-bg-color: #2c343c;                   /* Card background: Very dark grey */
    --bg-color-light: #f6f6f6;                /* Light background: Light grey for contrast */
    --card-bg-color-light: #ededed;                   /* Card background: Very dark grey */
    --text-color-primary: #f7fafc;           /* Primary text: Off-white */
    --text-color-secondary: #ccc;            /* Secondary text: Light grey-blue */
    --text-color-muted: #ccc;                /* Muted text: Medium grey */
    --accent-color: #fff;                    /* Accent: Brighter, accessible blue for dark mode */
    --accent-color-hover: #fff;              /* Accent hover: Slightly darker vibrant blue */
    --separator-color: #4a5568;              /* Separators: Darker grey */
    --shadow-color: rgba(0, 0, 0, 0.25);     /* Shadows: More pronounced for depth */
    --button-text-color: #121212;            /* Button text: Dark text on light button background */
    --banner-button-bg-color: #118ab2;       /* Using the same teal/blue */
    --banner-button-bg-color-hover: #0e708f; /* Darker hover */
    --banner-button-text-color: #ffffff;     /* White text should still work well */
}

/* Section: Fonts */
/* Define font families for body and headings */
body, input, select, textarea {
    font-family: var(--font-primary);        /* USING NEW PRIMARY FONT: Inter */
    font-size: 16px; /* Base font size for rem calculation, adjust as needed. Was 15pt. */
    font-weight: 400;                        /* Normal font weight */
    letter-spacing: 0.025em;                 /* Adjusted letter spacing for Inter */
    line-height: 1.65;                       /* Good line height */
}

/* Responsive font sizes (using relative units like em or media queries with px/rem) */
@media screen and (max-width: 1680px) {
    body, input, select, textarea {
        font-size: 15px; /* Was 13pt */
    }
}

@media screen and (max-width: 1280px) {
    body, input, select, textarea {
        font-size: 14px; /* Was 12pt */
    }
}

@media screen and (max-width: 736px) {
    body, input, select, textarea {
        font-size: 13px; /* Was 11pt */
        letter-spacing: 0.02em;
    }
}

/* Section: Icons */
/* Define styles for icons, including size and color */
.icon { /* This is your existing class for footer icons */
    font-size: 1.5em;                        /* Default size for icons */
    color: var(--text-color-muted);          /* UPDATED: Using new muted color */
    transition: color 0.3s ease;             /* Smooth color transition */
}

.icon:hover {
    color: var(--accent-color);              /* UPDATED: Using new accent color for hover */
}

/* Section: General Reset */
/* Reset margins, paddings, and box-sizing for all elements */
html, body, div, span, applet, object,
iframe, h1, h2, h3, h4, h5, h6, p, blockquote,
pre, a, abbr, acronym, address, big, cite,
code, del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var, b,
u, i, center, dl, dt, dd, ol, ul, li, fieldset,
form, label, legend, table, caption, tbody,
tfoot, thead, tr, th, td, article, aside,
canvas, details, embed, figure, figcaption,
footer, header, hgroup, menu, nav, output, ruby,
section, summary, time, mark, audio, video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%; /* Resets font size to allow rem units to work from html/body base */
    font: inherit; /* Inherits font settings from parent */
    vertical-align: baseline;
    box-sizing: border-box; /* Apply box-sizing globally */
}

article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
    display: block;
}

/* body line-height is set in "Section: Fonts" */

ol, ul {
    list-style: none;
}

blockquote, q {
    quotes: none;
}

blockquote:before, blockquote:after, q:before, q:after {
    content: '';
    content: none;
}

table {
    border-collapse: collapse;
    border-spacing: 0;
}

/* Section: Basic Styles */
html {
    scroll-behavior: smooth;
    height: 100%; /* Ensure html takes full height for sticky footers or full height sections */
}

body {
    -webkit-text-size-adjust: none;
    background: var(--bg-color);             /* UPDATED: Using new background color */
    color: var(--text-color-secondary);      /* UPDATED: Using new default text color */
    min-height: 100%; /* Ensure body also takes full height */
    display: flex; /* Added to help with potential sticky footer logic if needed */
    flex-direction: column; /* Added for sticky footer logic */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Main content wrapper if you need one for sticky footer */
.main-content-wrapper { /* Ensure this div wraps all content except the footer in your HTML */
    flex: 1 0 auto; /* Allows this wrapper to grow and push footer down */
}


mark {
    background-color: transparent;
    color: inherit;
}

input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

input, select, textarea {
    -moz-appearance: none;
    -webkit-appearance: none;
    -ms-appearance: none;
    appearance: none;
    font-family: var(--font-primary); /* Ensure form elements also use the primary font */
}

/* Section: Typography */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-primary);        /* Using new primary font */
    color: var(--text-color-primary);        /* UPDATED: Using new primary text color */
    font-weight: 700;                        /* Bolder for headings */
    margin-bottom: 0.75em;                   /* Adjusted spacing */
    line-height: 1.3;                        /* Tighter line height for headings */
}

p {
    /* font-size is inherited from body */
    color: var(--text-color-secondary);      /* UPDATED: Using new secondary text color */
    /* line-height is inherited from body */
    margin-bottom: 1.25em;                   /* Adjusted spacing */
}

a {
    color: var(--accent-color);              /* UPDATED: Using new accent color */
    text-decoration: none;
    transition: color 0.2s ease;             /* Slightly faster transition */
}

a:hover, a:focus {
    color: var(--accent-color-hover);        /* UPDATED: Using new hover accent color */
    text-decoration: none;                   /* Ensure no underline on hover/focus */
}

/* Styles for general section headings (not banner) */
section:not(#banner) h2 {
    color: var(--text-color-primary);        /* UPDATED */
    margin-bottom: 1em;                    /* Adjusted */
    text-align: center;
    font-size: 2.25em;                       /* Relative to base font size */
    font-weight: 700;                        /* Bold */
    padding-top: 1.5em;                      /* Adjusted */
}


/* Section: Buttons */
/* General .button class */
button, .button {
    display: inline-block;
    background-color: var(--accent-color);   /* UPDATED: Using new accent color */
    color: var(--button-text-color);         /* UPDATED: Using new button text color */
    border: 2px solid var(--accent-color);   /* Border matches background */
    padding: 0.8em 1.8em;                    /* Adjusted padding */
    border-radius: 8px;                      /* Softer radius */
    font-size: 1em;                          /* Relative to parent */
    font-weight: 600;                        /* Semi-bold */
    text-align: center;
    text-decoration: none;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
}

button:hover, .button:hover,
button:focus, .button:focus {
    background-color: var(--accent-color-hover); /* UPDATED */
    border-color: var(--accent-color-hover);   /* UPDATED */
    color: var(--button-text-color);           /* Ensure text color remains if needed */
    transform: translateY(0px);
    text-decoration: none;
}

/* Banner Button Styles (Primary) */
.button-banner-primary {
    background-color: var(--banner-button-bg-color);
    color: var(--banner-button-text-color);
    border: 2px solid var(--banner-button-bg-color); /* Border matches background */
    font-family: var(--font-primary); /* CHANGED: Use Inter (sans-serif) */
    text-transform: uppercase;
    font-weight: 400; /* Inter looks good at semi-bold */
    font-size: 0.85em; /* CHANGED: Smaller text size (relative to parent .button or body) */
    letter-spacing: 0.075em; /* Adjusted letter spacing for uppercase Inter */
    padding: 0.6em 1.8em; /* CHANGED: Reduced top/bottom padding, kept horizontal */
    /* Ensure it inherits other .button styles or re-declare if necessary:
       display: inline-block;
       border-radius: 8px;
       text-align: center;
       text-decoration: none;
       cursor: pointer;
       transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
    */
}

.button-banner-primary:hover, .button-banner-primary:focus {
    background-color: var(--banner-button-bg-color-hover);
    border-color: var(--banner-button-bg-color-hover);
    color: var(--banner-button-text-color); /* Text color remains the same on hover */
    text-decoration: none; /* Ensure no underline */
    /* transform: translateY(-2px); -- Ensure this is not present if size change is not wanted */
}

/* Section: Banner */
#banner {
    min-height: 100vh;
    width: 100%;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: var(--original-text-color);      /* Using original white for banner text */
    background-image: url('https://jaumepuig98.github.io/images/banner.jpg'); /* YOUR IMAGE PATH - ensure it's ../images/ if assets/css is the path */
    background-size: cover;
    background-position: center center;
    background-attachment: fixed;
    overflow: hidden;
    padding: 20px;
}

.banner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6); /* Slightly darker overlay for better contrast */
    z-index: 1;
}

.banner-content {
    position: relative;
    z-index: 2;
    max-width: 900px;
}

#banner h1 {
    font-size: 3em; /* Adjusted */
    font-weight: 550; /* Changed from 800 */
    margin-bottom: 0.8em; /* Adjusted */
    color: var(--original-text-color); /* Ensure banner h1 is white */
    text-shadow: 0px 0px 0px rgba(0, 0, 0, 0.6); /* Slightly stronger shadow */
}

#banner .subtitle { /* Assuming this class is used for the first line under h1 */
    font-size: 1.25em; /* Adjusted */
    font-family: var(--font-primary);
    text-transform: uppercase;          
    font-weight: 300;
    margin-bottom: 0.2em;
    color: var(--original-muted-text-color); /* Using original muted for banner subtitle */
    text-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5);
}

#banner .tagline { /* Assuming this class is used for the second line under h1 */
    font-size: 1.4em; /* Adjusted */
    font-family: var(--font-quote);          
    font-style: italic;                      
    font-weight: 400;
    margin-bottom: 3em; /* Adjusted */
    color: var(--text-color-primary);
    text-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5);
}

.banner-buttons .button {
    margin: 0.75em; /* Adjusted */
}

.icon-banner {
    width: 100%; /* Make image responsive within its column */
    max-width: 60px; /* Max width for the image */
    height: auto; /* Maintain aspect ratio */
    border-radius: 8px; /* Rounded square, consistent with bcard */
    /* Optional: Add a subtle shadow if desired, consistent with theme */
    /* box-shadow: 0 4px 12px var(--shadow-color); */
}

/* Scroll-down Section */
.scroll-down-link {
    position: absolute; /* Position it relative to the banner */
    bottom: 30px; /* Distance from the bottom of the banner */
    left: 50%;
    transform: translateX(-50%); /* Center it horizontally */
    z-index: 3; /* Ensure it's above the overlay but potentially below a sticky header if one passes over */
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: var(--text-color-muted); /* White text, good for dark overlay */
    opacity: 0.8;
    transition: opacity 0.3s ease, color 0.3s ease;
}

.scroll-down-link:hover,
.scroll-down-link:focus {
    opacity: 1;
    color: var(--accent-color); /* CHANGED: Use the blue from the banner button */
    text-decoration: none; /* Ensure no underline */
}

.scroll-down-text {
    font-family: var(--font-primary); /* Inter */
    font-weight: 350; /* Light font weight */
    font-size: 0.75em; /* Adjust as needed, relative to body base */
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 8px;
}

.scroll-down-arrow {
    font-size: 1.5em; /* Size of the arrow icon */
    animation-name: gentleDip;                /* CHANGED: New animation name for clarity */
    animation-duration: 2.5s;                 /* CHANGED: Slower - duration of ONE cycle */
    animation-iteration-count: 2;             /* Plays twice then stops */
    animation-timing-function: ease-in-out;   /* Smooth timing */
    animation-fill-mode: forwards;            /* Holds the style of the last keyframe */
    opacity: 0.8;                             /* Initial opacity */
}

/* Keyframes for the new, slower, and more subtle arrow animation */
@keyframes gentleDip {
    0%, 100% { /* Start and end state of each iteration (resting position) */
        transform: translateY(0);
        opacity: 0.8; /* Resting opacity */
    }
    50% {
        transform: translateY(3px); /* CHANGED: Very subtle downward movement (was 5px) */
        opacity: 1; /* Full opacity at the bottom of the dip */
    }
}

/* Responsive adjustments for the scroll-down link */
@media screen and (max-width: 768px) {
    .scroll-down-link {
        bottom: 20px; /* Slightly less space from bottom on mobile */
    }
    .scroll-down-text {
        font-size: 0.7em;
    }
    .scroll-down-arrow {
        font-size: 1.3em;
    }
}

/* Section: Layout */
/* General section padding (excluding banner which is full height) */
section:not(#banner) {
    padding: 1.5em 2em; /* Adjusted padding */
    /*
    background-color: var(--card-bg-color); /* Use card-bg for sections for contrast with page bg */
    /* Consider adding box-shadow: 0 2px 4px var(--shadow-color); if you want sections to "pop" */
}



/* Section: Navigation */
/* Basic styles for the sticky header if you use the one from previous HTML */
header { /* Assuming your HTML has a <header> element for navigation */
    background-color: rgba(255, 255, 255, 0.9); /* Light, slightly transparent background */
    backdrop-filter: blur(8px); /* Blur effect for modern look */
    box-shadow: 0 1px 3px rgba(0,0,0,0.1); /* Subtle shadow */
    position: sticky; /* Makes the header stick to the top on scroll */
    top: 0;
    z-index: 1000; /* Ensures header stays on top of other content */
    width: 100%;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}
[data-theme="dark"] header {
    background-color: rgba(26, 32, 44, 0.9); /* Dark, slightly transparent for dark mode */
    box-shadow: 0 1px 3px rgba(255,255,255,0.05);
}

/* Styles for nav links if your HTML <header> contains <nav><a> elements */
header nav a {
    color: var(--text-color-secondary);
    padding: 0.5em 1em; /* Example padding */
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease;
}
header nav a:hover, header nav a:focus {
    color: var(--accent-color);
    text-decoration: none;
}

/* Customize the scrollbar (User's preferred style) */
::-webkit-scrollbar {
	width: 4px; /* Set the width of the scrollbar (narrow line) */
}
  
::-webkit-scrollbar-track {
	background: transparent; /* No background for the track */
}
  
::-webkit-scrollbar-thumb {
    /* Adapting thumb to new theme: using secondary text color for a darker thumb */
	background-color: var(--text-color-secondary); 
	border-radius: 4px; /* Rounded corners for the thumb */
}
  
::-webkit-scrollbar-thumb:hover {
    /* Adapting hover to new theme: using accent color for a lighter/interactive hover */
	background-color: var(--accent-color); 
}
/* For Dark Theme, these variables will automatically adjust the scrollbar colors */

/* assets/css/styles-main.css */

/* Section: Scroll to Top Button (or add to a Utility section) */
.scroll-to-top-btn {
    position: fixed; /* Fixed position relative to the viewport */
    bottom: 50px;    /* Distance from the bottom */
    right: 20px;     /* Distance from the right */
    z-index: 999;    /* Ensure it's above most other content */

    background-color: var(--banner-button-bg-color); /* Use your theme's accent color */
    color: var(--card-bg-color);    /* Text color for the icon */
    border: none;
    border-radius: 10px; /* Same as your other buttons */
    width: 20px;        /* Square button */
    height: 20px;
    font-size: 0.8em;   /* Size of the arrow icon inside */

    display: flex;      /* For centering the icon */
    align-items: center;
    justify-content: center;

    cursor: pointer;
    text-decoration: none;

    opacity: 0;         /* Initially hidden */
    visibility: hidden; /* Initially hidden for accessibility */
    transform: translateY(10px); /* Start slightly lower for entry animation */
    transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease, background-color 0.3s ease;
}

.scroll-to-top-btn.visible {
    opacity: 0.85; /* Slightly transparent when visible */
    visibility: visible;
    transform: translateY(0); /* Slide into view */
}

.scroll-to-top-btn:hover,
.scroll-to-top-btn:focus {
    background-color: var(--banner-button-bg-color-hover); /* Darken on hover/focus */
    opacity: 1; /* Full opacity on hover */
    text-decoration: none; /* Ensure no underline */
    color: var(--button-text-color); /* Ensure icon color remains consistent */
}

/* Responsive adjustments for the scroll-to-top button */
@media screen and (max-width: 768px) {
    .scroll-to-top-btn {
        bottom: 20px;
        right: 20px;
        width: 45px;
        height: 45px;
        font-size: 0.8em;
    }
}

/* Section: About Me */
#aboutme {
    padding-top: 1em;    
    padding-bottom: 2.5em; /* You can also adjust bottom padding here if needed */
    background-color: var(--card-bg-color); /* Use card-bg for sections for contrast with page bg */
    /* Horizontal padding (2em) will still be inherited if not specified */
}

#aboutme .container.about-me-container { /* Specific container for about me */
    max-width: 1100px; /* Adjust max-width as needed for content */
    margin-left: auto;
    margin-right: auto;
}

#aboutme h2 {
    padding-top: 0;     /* REMOVED/REDUCED: Space above the text inside the h2 box */
    margin-top: 0;      /* Ensures no extra top margin on the h2 itself */
    margin-bottom: 1em; /* REDUCED: Space below the "About Me" title */
    /* Other styles like color, font-size, text-align will be inherited
       from the general section:not(#banner) h2 rule unless you want to change them here.
    */
}

.about-me-content {
    display: flex;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    align-items: flex-start; /* Align items to the top */
    gap: 2em; /* Space between image and text columns */
    margin-top: 0em; /* Space below the "About Me" title */
}

.about-me-image-column {
    flex: 1; /* Takes up 1 part of the available space */
    min-width: 280px; /* Minimum width before wrapping/stacking */
    display: flex;
    justify-content: center; /* Center image if column is wider */
    align-items: flex-start; /* Align image to the top of its column */
}

.profile-picture-main {
    width: 100%; /* Make image responsive within its column */
    max-width: 220px; /* Max width for the image */
    height: auto; /* Maintain aspect ratio */
    border-radius: 8px; /* Rounded square, consistent with bcard */
    /* Optional: Add a subtle shadow if desired, consistent with theme */
    /* box-shadow: 0 4px 12px var(--shadow-color); */
}

.about-me-text-column {
    flex: 2; /* Takes up 2 parts of the available space, making it wider than image column */
    min-width: 300px; /* Minimum width before wrapping/stacking */
}

.about-me-text-column h3 {
    font-size: 1.2em; /* Size for subheadings */
    font-family: var(--font-primary); /* Using Inter */
    color: var(--text-color-primary);
    font-weight: 500; /* Semi-bold */
    margin-top: 1em; /* Space above subheadings */
    margin-bottom: 0.2em;
}
.about-me-text-column h3:first-of-type { /* Remove top margin from the very first h3 */
    margin-top: 0;
}


.about-me-text-column p {
    /* General paragraph styles apply (color, line-height, margin-bottom) */
    font-size: 1em; /* Or adjust if you want about me text slightly different from global p */
    color: var(--text-color-secondary);
    text-align: justify; /* Justify text for a clean block look, or use text-align: left; */
    font-family: var(--font-primary); /* Using Inter */
    font-weight: 300; /* Semi-bold */

}

.about-me-text-column p.about-me-intro {
    font-size: 1.01em; /* Make intro paragraph slightly larger */
    font-family: var(--font-primary); /* Using Inter */
    font-weight: 300; /* Or 500 for slightly more emphasis */
    color: var(--text-color-primary); /* Make intro text slightly more prominent */
    margin-bottom: 1.5em;
}

.about-me-text-column strong {
    font-weight: 400; /* Or 700 for bolder */
    color: var(--accent-color); /* Use accent color for highlighted keywords */
}


.about-me-affiliations {
    margin-top: 1em; /* Space above the affiliations block */
    margin-bottom: 1.5em; /* Space below before social icons */
    text-align: left; /* Ensure content within is left-aligned */
}

/*
.about-me-affiliations h3 {
    /* Uses existing .about-me-text-column h3 styles,
       but you can add specific overrides if needed:
    font-size: 1.3em;
    color: var(--text-color-primary);
    font-weight: 600;
    margin-bottom: 0.75em;
    border-bottom: 1px solid var(--separator-color); /* Optional separator */
    /* padding-bottom: 0.25em; 
} */

.about-me-affiliations ul {
    list-style: none;
    padding-left: 1em; /* Remove default padding */
}

.about-me-affiliations li {
    display: flex; /* For aligning icon and text */
    align-items: flex-start; /* Align items to the top, good if text wraps */
    margin-bottom: 0.5em; /* Space between affiliation items */
    font-size: 1em; /* Adjust as needed */
    font-family: var(--font-primary); /* Using Inter */
    font-weight: 300; /* Or 500 for slightly more emphasis */
    color: var(--text-color-secondary);
}

.about-me-affiliation-icon {
    color: var(--accent-color); /* Use your theme's accent color */
    font-size: 0.8em; /* Icon size relative to the li's font size */
    margin-right: 8px; /* Space between icon and text */
    width: 1.3em; /* Give icon a fixed width for alignment */
    text-align: center; /* Center icon within its fixed width */
    flex-shrink: 0; /* Prevent icon from shrinking */
    padding-top: 0.5em; /* Tiny adjustment for vertical alignment with text */
}

.about-me-affiliations li span {
    flex-grow: 1; /* Allow text to take remaining space */
}

.website-link {
    color: var(--text-color-muted);          /* Muted color for the link */
    text-decoration: none;                   /* Remove underline by default */
    font-weight: 500;                        /* Medium weight */
    font-size: 0.9em;                        /* Font size for footer link 
    display: inline-flex;                    /* Align icon and text 
    align-items: center;                     /* Vertically align icon and text */
    transition: color 0.2s ease;             /* Smooth color transition on hover */
}

.website-link:hover,
.website-link:focus,
.website-link:active {
    color: var(--accent-color);              /* Change color to accent on hover/focus/active */
    text-decoration: none;                   /* Ensure no underline on hover/focus/active */
}

.website-link i {
    margin-left: 4px;                       /* Space between icon and link text */
}


/* Responsive adjustments for affiliations if text column stacks */
@media screen and (max-width: 768px) {
    .about-me-affiliations {
        margin-top: 1.5em; /* Adjust spacing for mobile */
    }
    /* .about-me-affiliations h3 might already be handled by general h3 responsive rules */
    .about-me-affiliations li {
        font-size: 0.9em; /* Slightly smaller on mobile */
    }
}

/* Responsive adjustments for About Me section */
@media screen and (max-width: 768px) {
    .about-me-content {
        flex-direction: column; /* Stack image and text vertically */
        align-items: center; /* Center items when stacked */
        gap: 2em;
    }
    .about-me-image-column {
        order: -1; /* Optional: Move image above text on mobile */
        margin-bottom: 0; /* Remove bottom margin if stacked above text */
        width: 100%; /* Allow image column to take full width for centering */
        max-width: 300px; /* But constrain the image itself */
    }
    .profile-picture-main {
        max-width: 250px; /* Slightly smaller image on mobile */
    }
    .about-me-text-column {
        text-align: left; /* Left align text on mobile for readability */
    }
    .about-me-text-column h3 {
        text-align: left; /* Ensure subheadings also align left */
         margin-top: 2em; /* Consistent spacing for subheadings on mobile */
    }
     .about-me-text-column p, .about-me-text-column p.about-me-intro {
        text-align: left; /* Justify can be hard to read on narrow screens */
    }
}

.about-me-social-icons {
    margin-top: 2em; /* Space above the icons */
    text-align: left; /* Align to the left if text column is left-aligned */
    margin-bottom: 2em; /* Space below the icons */

}

.social-icon-item {
    display: inline-block; /* Or inline-flex for better alignment if needed */
    color: var(--text-color-muted); /* Use muted color for icons */
    font-size: 1.6em; /* Size of the icons */
    margin-right: 1em; /* Space between icons */
    transition: color 0.2s ease, transform 0.2s ease;
    text-decoration: none;
}

.social-icon-item:last-child {
    margin-right: 0; /* No margin on the last icon */
}

.social-icon-item:hover,
.social-icon-item:focus {
    color: var(--accent-color); /* Change to accent color on hover */
    transform: translateY(0px); /* Slight lift effect */
    text-decoration: none;
}

/* Responsive adjustments for social icons in About Me if needed */
@media screen and (max-width: 768px) {
    .about-me-social-icons {
        text-align: center; /* Center icons on mobile if the text column stacks and centers */
        margin-top: 1.5em;
    }
    .social-icon-item {
        font-size: 1.5em; /* Slightly smaller icons on mobile */
        margin: 0 0.6em; /* Adjust spacing for mobile */
    }
}


/* ============================== */
/* Section: Projects (Horizontal Scroll) */
/* ============================== */

#projects {
    /* General section padding (e.g., padding: 4em 0;) will provide top/bottom space.
       Horizontal padding might be handled by the .container or removed for full-bleed scroll.
    */
    padding-top: 1em; /* Adjust top padding for the section */
    padding-bottom: 2em; /* Adjust bottom padding for the section */
    background-color: var(--bg-color-light); /* Use page background, or --card-bg-color for contrast */
}

#projects .projects-outer-container { /* Your existing .container class can be used */
    max-width: 1200px; /* Or your preferred container width */
    margin-left: auto;
    margin-right: auto;
    padding-left: 1em; /* Padding for container if scroll wrapper is full bleed */
    padding-right: 1em;
    text-align: center;
}

#projects h2.projects-title {
    /* General section h2 styles apply.
       Adjust margin-bottom if needed:
       margin-bottom: 1.5em; 
    */
    text-align: center;
    color: var(--card-bg-color);
}


.projects-grid { /* You can keep this class name, or rename to e.g., .projects-flex-container */
    display: flex;             /* Use Flexbox */
    flex-wrap: wrap;           /* Allow items to wrap to the next line */
    justify-content: center;   /* Center items in the row, including the last row */
    gap: 1.5em;                /* Space between cards */
    width: 100%; 
    padding: 0 0.5em; /* Add a little horizontal padding if cards might touch edges without a full container padding */
    margin-bottom: 2em; /* Space below the icons */
}

.project-card {
    min-height: 200px; /* Ensure cards have a decent minimum height */

    background-color: var(--card-bg-color-light);
    border-radius: 12px;
    box-shadow: 0 0px 0px var(--shadow-color);
    padding: 1.5em;
    display: flex;
    flex-direction: column;
    align-items: flex-start; /* Align content to the start (left) */
    text-align: left;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.project-card {
    flex-grow: 1; /* Optional: prevent cards from growing to fill extra space in a row if only a few items */
    flex-shrink: 1; /* Optional: prevent cards from shrinking below their basis if space is tight */
    flex-basis: 300px; /* Define a base width for the cards. Adjust as needed. Was max-width: 360px before. */
                       /* Or use width: 320px; */
    max-width: 370px;

    min-height: 200px; 
    background-color: var(--card-bg-color-light);
    border-radius: 8px;
    box-shadow: 0 0px 0px var(--shadow-color);
    padding: 1.5em;
    display: flex; /* Keep flex for internal card layout */
    flex-direction: column;
    align-items: flex-start;
    text-align: left;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.project-card:hover {
    transform: translateY(0px);
    box-shadow: 0 0px 0px var(--shadow-color);
}

.project-card-icon-container {
    margin-bottom: 0em;
    width: 25px; /* Container for icon */
    height: 40px;
    background-color: var(--card-bg-color-light); /* Use accent color for icon background */
    color: var(--card-bg-color-light); /* White icon on accent background */
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
}
[data-theme="dark"] .project-card-icon-container {
     background-color: var(--card-bg-color-light);
     color: var(--banner-button-bg-color); /* Ensure contrast for dark mode button text color */
}


.project-card-icon {
    font-size: 1.2em;
}

.project-card-title {
    font-size: 1.2em;
    font-weight: 600;
    color: var(--bg-color);
    margin-bottom: 0.25em;
    font-family: var(--font-primary); /* Using Inter */
}

.project-card-org-date {
    font-size: 0.85em;
    color: var(--card-bg-color);
    margin-bottom: 0.75em;
    font-weight: 450;
    font-family: var(--font-primary); /* Using Inter */
}

.project-card-org-date strong {
    font-weight: 500;
    font-size: 1.1em;
}

.project-card-description {
    font-size: 0.95em;
    font-family: var(--font-primary); /* Using Inter */
    color: var(--card-bg-color);
    line-height: 1.3;
    margin-bottom: 0.75em;
    flex-grow: 1; /* Allows description to take up available space, pushing tags/links down */
    /* text-align: justify; /* Justify text for a clean block look, or use text-align: left; */
}

.project-card-tags {
    margin-bottom: 0.2em;
    font-family: var(--font-primary); /* Using Inter */
    /* flex-wrap: wrap; -- Handled by span display */
}

.tag { 
    display: inline-block;
    background-color: rgba(17, 138, 178, 0.25);
    color: var(--card-bg-color);
    padding: 0.2em 0.4em;
    border-radius: 4px; /* Pill shape */
    font-size: 0.7em; /* Slightly smaller tags */
    font-weight: 300;
    margin-right: 0.5em;
    margin-bottom: 0.5em;
}
[data-theme="dark"] .tag {
    background-color: rgba(17, 138, 178, 0.25);
    color: var(--card-bg-color); /* Dark text on light tag */
}

.project-card-links {
    margin-top: auto; /* Pushes links to the bottom of the card if description is short */
}

.project-card-links .project-link { /* Using .project-link class from HTML */
    display: inline-block;
    margin-right: 1em;
    color: var(--card-bg-color);
    font-weight: 500;
    /*text-decoration: underline;*/
    font-size: 0.8em;
    font-family: var(--font-primary); /* Using Inter */
    transition: color 0.2s ease;
}
.project-card-links .project-link:last-child {
    margin-right: 0;
}

.project-card-links .project-link:hover {
    color: var(--separator-color);
    text-decoration: none;
}

/* Responsive adjustments for Horizontal Projects */
@media screen and (max-width: 700px) {
    .project-card {
        /* width: 75%; /* Cards take more width on tablets 
        max-width: 320px; /* Slightly smaller max-width */
        min-height: 200px;
    }
     .projects-grid {
        gap: 1em; /* Slightly smaller gap */
        padding: 0 0.75em;
    }
}

@media screen and (max-width: 480px) {
    .project-card {
        /* width: 85%; /* Cards take even more width on small phones 
        max-width: 300px; */
        min-height: 200px;
        padding: 1.25em;
    }
    .project-card-title {
        font-size: 1.15em;
    }
    .project-card-description {
        font-size: 0.9em;
    }
    .tag {
        font-size: 0.7em;
    }
}



/* Section: Contact */
#contact {
    position: relative; /* Needed for positioning an overlay inside */
    padding: 2em 2em;   /* Your general section padding or adjust as needed */
    color: var(--original-text-color); /* Default to white text, good for dark image backgrounds */
    
    /* --- Apply the same fixed background as the banner --- */
    background-image: url('https://jaumepuig98.github.io/images/banner.jpg'); /* YOUR BANNER IMAGE URL */
    background-size: cover;
    background-position: center center;
    background-attachment: fixed; /* This is key for the parallax/reveal effect */
    overflow: hidden; /* In case overlay calculations are slightly off */
    text-align: center; /* Center align the content within the section */
}

#contact .contact-section-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.70); /* Dark overlay - adjust opacity (0.0 to 1.0) as needed */
    z-index: 1; /* Overlay is behind content */
}

[data-theme="dark"] #contact .contact-section-overlay {
     background-color: rgba(0, 0, 0, 0.75); /* Can be same or slightly more opaque in dark mode */
}

/* Styles for content elements now directly on the overlay */
#contact h2.contact-title, /* Specific class for the "Get In Touch" title */
#contact p.contact-intro,
#contact .contact-methods {
    position: relative; /* To sit on top of the overlay */
    z-index: 2;
    max-width: 700px;   /* Constrain width of this content block */
    margin-left: auto;
    margin-right: auto;
    color: var(--original-text-color); /* Ensure text is white or very light */
}

#contact h2.contact-title {
    /* This inherits from the general section:not(#banner) h2,
       but you can add specific overrides here if needed.
       The general rule is:
        color: var(--text-color-primary);
        margin-bottom: 1.5em;
        text-align: center;
        font-size: 2.25em;
        font-weight: 700;
        padding-top: 0; /* Reset padding-top if general section h2 has it 
    */
    color: var(--original-text-color); /* Ensure it's white for the overlay */
    text-shadow: 0px 0px 0px rgba(0,0,0,0.6);
    margin-bottom: 0.6em; /* Adjusted specific margin for contact title */
    font-size: 2em; /* Make sure it's distinct */
    font-family: var(--font-primary); /* Using Inter */
    padding-top: 1em;
}

#contact p.contact-intro {
    font-size: 1.1em; /* Relative to body base */
    margin-bottom: 2em;
    line-height: 1.7;
    text-shadow: 0px 0px 0px rgba(0,0,0,0.5);
    color: var(--original-muted-text-color); /* Slightly less bright than main title */
    font-family: var(--font-primary); /* Using Inter */
}

#contact .contact-methods {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1em; /* Space between contact method items */
    padding-bottom: 3em;
}

#contact .contact-method-item {
    display: inline-flex; /* Already good for aligning icon and text */
    align-items: center;
    justify-content: center; /* Center content within the item */

    background-color: var(--banner-button-bg-color); /* Use banner button color */
    color: var(--banner-button-text-color);          /* Use banner button text color */
    border: 2px solid var(--banner-button-bg-color);/* Border matches background */

    font-family: var(--font-primary); /* Inter, same as banner button */
    text-transform: uppercase;        /* All caps, same as banner button */
    font-weight: 400;                 /* Same as banner button */
    font-size: 0.85em;                /* Same as banner button text size */
    letter-spacing: 0.075em;          /* Same as banner button */
    padding: 0.7em 1.5em;             /* Adjusted padding, slightly more top/bottom than banner button for icon */

    border-radius: 4px; /* Or your chosen roundness for banner button */
    text-decoration: none;
    min-width: 260px; 
    max-width: 90%;   

    transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
    /* Removed color transition if text color doesn't change on hover */
    cursor: pointer; /* Ensure cursor is pointer */
}

#contact .contact-method-item:hover,
#contact .contact-method-item:focus {
    background-color: var(--banner-button-bg-color-hover); /* Darker blue on hover */
    border-color: var(--banner-button-bg-color-hover);     /* Match border to background */
    color: var(--banner-button-text-color);                /* Text color remains the same */
    text-decoration: none;
    /* transform: translateY(-2px); -- Optional: add if you want a subtle lift, ensure general .button hover doesn't have it if you want ONLY this */
}

#contact .contact-icon {
    font-size: 0.85em; /* Make icon size relative to button text size, adjust as needed */
    margin-right: 8px;
    color: var(--banner-button-text-color); /* Match button text color */
    /* transition: color 0.2s ease; -- Not needed if color doesn't change on item hover */
}

/* Ensure icon color changes with link hover if needed, though inheriting color often works */
#contact .contact-method-item:hover .contact-icon,
#contact .contact-method-item:focus .contact-icon {
    color: var(--original-text-color); /* Or your hover accent color */
}

/* Responsive adjustments for contact methods within #contact */
@media screen and (min-width: 768px) {
    #contact .contact-methods {
        flex-direction: row; 
        justify-content: center;
        flex-wrap: wrap; /* Allow wrapping if there are many items or they are wide */
    }
    #contact .contact-method-item {
        margin: 0 0.5em; /* Add some horizontal margin for row layout if gap isn't enough */
        min-width: auto; /* Allow items to size more naturally in a row if desired */
    }
}

/* Section: Animations */
/* (Add styles if you have animations) */

/* Section: Media Queries */
/* Your existing general media queries for font sizes are above in "Section: Fonts" */
/* Add specific responsive overrides for sections, banner, footer etc. here */
@media screen and (max-width: 768px) { /* Your existing breakpoint */
    section:not(#banner) h2 {
        font-size: 1.8em; /* Adjust general section heading size */
        padding-top: 2em;
    }
    section:not(#banner) {
        padding: 3em 1em; /* Adjust section padding */
    }

    #banner h1 {
        font-size: 2.5em; /* Adjust banner heading */
    }
    #banner .subtitle {
        font-size: 1.3em;
    }
    #banner .tagline {
        font-size: 1.1em;
    }
    .banner-buttons {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1em;
    }
    .banner-buttons .button {
        width: 80%;
        max-width: 300px;
        margin: 0;
        
    }

    h1 { font-size: 2em; } /* Example general responsive h1 */
    p { font-size: 0.95em; } /* Example general responsive p */

    button, .button {
        padding: 0.7em 1.5em;
        font-size: 0.95em;
    }

}

/* Section: Footer */
#footer {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.7em 3em; /* Adjusted padding */
    margin-top: auto; /* Pushes footer to bottom if main content is short (works with body display:flex, flex-direction:column and .main-content-wrapper flex:1) */
    background-color: var(--card-bg-color); /* Using card-bg for footer for a lighter footer */
    border-top: 0px solid var(--separator-color); /* Separator line */
    color: var(--text-color-secondary);      /* UPDATED */
    font-size: 0.85em;                       /* Adjusted */
    font-family: var(--font-primary);        /* UPDATED to Inter */
}

#footer .social-icons {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1.2em; /* Adjusted gap */
    order: 2;
}

#footer .social-icons li {
    display: inline-block;
}

#footer .social-icons a.icon { /* Target your existing .icon class specifically for footer */
    color: var(--text-color-muted);
    font-size: 1em; /* Relative to footer font size */
    transition: color 0.2s ease;
}

#footer .social-icons a.icon:hover {
    color: var(--accent-color);
}

#footer p {
    margin: 0;
    order: 1;
    font-size: 0.9em; /* Relative to footer's 0.85em base */
    color: var(--text-color-muted); /* Using new muted color */
    line-height: 1; /* Ensure paragraph line height is good */
}

.footer-link { /* This class was on the Jaume Puig link in footer */
    color: var(--text-color-secondary); /* UPDATED */
    text-decoration: none;
    font-weight: 600; /* Make it slightly bolder */
    transition: color 0.2s ease;
}

.footer-link:hover {
    color: var(--accent-color); /* UPDATED */
}

/* Responsive Design for Footer */
@media screen and (max-width: 768px) {
    #footer {
        flex-direction: column;
        text-align: center;
        padding: 1.5em 1em;
        gap: 1em; /* Add gap for stacked items */
    }

    #footer .social-icons {
        order: 1;
        margin-bottom: 0; /* Gap will handle spacing */
    }

    #footer p {
        order: 2;
    }
}